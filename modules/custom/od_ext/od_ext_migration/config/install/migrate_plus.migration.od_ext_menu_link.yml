id: od_ext_menu_link
label: Embedded data feed of menu link content
migration_group: od
dependencies:
  enforced:
    module:
      - od_ext_migration
source:
  plugin: embedded_data
  # Enforce default language to english
  default_lang: true
  data_rows:
    # Footer.
    - mlid: 'ml_footer_1'
      link_title: 'Open Government Contact'
      description: 'Open government contact section.'
      menu_name: 'footer'
      link_path: 'http://open.canada.ca/en/forms/contact-us'
      options: []
      external: 1
      weight: 0
      parent: 0
    - mlid: 'ml_footer_2'
      link_title: 'Departments and agencies'
      description: 'Departments and agencies section.'
      menu_name: 'footer'
      link_path: 'https://www.canada.ca/en/government/dept.html'
      options: []
      external: 1
      weight: 1
      parent: 0
    - mlid: 'ml_footer_3'
      link_title: 'Public service and military'
      description: 'Public service and military section.'
      menu_name: 'footer'
      link_path: 'https://www.canada.ca/en/government/publicservice.html'
      options: []
      external: 1
      weight: 2
      parent: 0
    - mlid: 'ml_footer_4'
      link_title: 'News'
      description: 'News section.'
      menu_name: 'footer'
      link_path: 'http://news.gc.ca'
      options: []
      external: 1
      weight: 3
      parent: 0
    - mlid: 'ml_footer_5'
      link_title: 'Treaties, laws and regulations'
      description: 'Treaties, laws and regulations section.'
      menu_name: 'footer'
      link_path: 'https://www.canada.ca/en/government/system/laws.html'
      options: []
      external: 1
      weight: 4
      parent: 0
    - mlid: 'ml_footer_6'
      link_title: 'Government-wide reporting'
      description: 'Government-wide reporting section.'
      menu_name: 'footer'
      link_path: 'https://www.canada.ca/en/transparency/reporting.html'
      options: []
      external: 1
      weight: 5
      parent: 0
    - mlid: 'ml_footer_7'
      link_title: 'Open Government Log In'
      description: 'Open government log in section.'
      menu_name: 'footer'
      link_path: 'http://open.canada.ca/en/user'
      options: []
      external: 1
      weight: 6
      parent: 0
    - mlid: 'ml_footer_8'
      link_title: 'How government works'
      description: 'How government works section.'
      menu_name: 'footer'
      link_path: 'https://www.canada.ca/en/government/system.html'
      options: []
      external: 1
      weight: 7
      parent: 0
    - mlid: 'ml_brand_1'
      link_title: 'Social media'
      description: 'Social media section.'
      menu_name: 'brand'
      link_path: 'https://www.canada.ca/en/social.html'
      options: []
      external: 1
      weight: 0
      parent: 0
    - mlid: 'ml_brand_2'
      link_title: 'Mobile applications'
      description: 'Mobile applications section.'
      menu_name: 'brand'
      link_path: 'https://www.canada.ca/en/mobile.html'
      options: []
      external: 1
      weight: 1
      parent: 0
    - mlid: 'ml_brand_3'
      link_title: 'About Canada.ca'
      description: 'About Canada.ca section.'
      menu_name: 'brand'
      link_path: 'https://www1.canada.ca/en/newsite.html'
      options: []
      external: 1
      weight: 2
      parent: 0
    - mlid: 'ml_brand_4'
      link_title: 'Terms and conditions'
      description: 'Terms and conditions section.'
      menu_name: 'brand'
      link_path: 'https://www.canada.ca/en/transparency/terms.html'
      options: []
      external: 1
      weight: 3
      parent: 0
    - mlid: 'ml_brand_5'
      link_title: 'Privacy'
      description: 'Privacy section.'
      menu_name: 'brand'
      link_path: 'https://www.canada.ca/en/transparency/privacy.html'
      options: []
      external: 1
      weight: 4
      parent: 0
    - mlid: 'analytics_overview'
      link_title: 'Overview'
      description: ''
      menu_name: 'analytics'
      link_path: 'internal:/analytics/summary'
      options: []
      external: 0
      weight: 1
      parent: 0
    - mlid: 'analytics_visualizations'
      link_title: 'Visualizations'
      description: ''
      menu_name: 'analytics'
      link_path: 'internal:/analytics/visualizations'
      options: []
      external: 0
      weight: 2
      parent: 0
    - mlid: 'analytics_pages'
      link_title: 'Pages'
      description: ''
      menu_name: 'analytics'
      link_path: 'internal:/analytics/visits'
      options: []
      external: 0
      weight: 2
      parent: 0
    - mlid: 'analytics_download'
      link_title: 'Downloads'
      description: ''
      menu_name: 'analytics'
      link_path: 'internal:/analytics/downloads'
      options: []
      external: 0
      weight: 2
      parent: 0
    - mlid: 'analytics_404'
      link_title: '404'
      description: ''
      menu_name: 'analytics'
      link_path: 'internal:/analytics/404'
      options: []
      external: 0
      weight: 3
      parent: 0
    - mlid: 'main_home'
      link_title: 'Home'
      description: ''
      menu_name: 'main'
      link_path: 'https://www.canada.ca/en.html'
      options: []
      external: 1
      weight: 1
      parent: 0
    - mlid: nrcan_manadtory
      link_title: 'Mandatory Reporting Standards for the Extractive Sector'
      description: ''
      menu_name: 'nrcan'
      link_path: 'internal:/consultations/mandatory-reporting-standards-extractive-sector'
      options: []
      external: 0
      weight: 1
      parent: 0
    - mlid: nrcan_updates
      link_title: 'Updates'
      description: ''
      menu_name: 'nrcan'
      link_path: 'internal:/content/mandatory-reporting-standards-extractive-sector'
      options: []
      external: 0
      weight: 1
      parent: nrcan_manadtory
    - mlid: nrcan_heard
      link_title: 'What We Heard'
      description: ''
      menu_name: 'nrcan'
      link_path: 'internal:/consultations/mandatory-reporting-standards-for-extractive-sector-what-we-heard'
      options: []
      external: 0
      weight: 2
      parent: nrcan_manadtory
    - mlid: nrcan_estma
      link_title: 'ESTMA Key Elements'
      description: ''
      menu_name: 'nrcan'
      link_path: 'internal:/consultations/key-elements-extractive-sector-transparency-measures-act'
      options: []
      external: 0
      weight: 3
      parent: nrcan_manadtory
    - mlid: nrcan_engagement
      link_title: 'Engagement'
      description: ''
      menu_name: 'nrcan'
      link_path: 'internal:/consultations/mandatory-reporting-standards-for-the-extractive-sector-engagement-march-may-2014'
      options: []
      external: 0
      weight: 4
      parent: nrcan_manadtory
    - mlid: ati_info
      link_title: ''
      description: ''
      menu_name: 'ati-consultation'
      link_path: 'internal:/'
      options: []
      external: 0
      weight: 1
      parent: 0
    - mlid: ati_revitalizing
      link_title: 'Revitalizing access to information'
      description: ''
      menu_name: 'ati-consultation'
      link_path: 'internal:/consultation/revitalizing-ati'
      options: []
      external: 0
      weight: 1
      parent: 0
    - mlid: ati_proposals
      link_title: 'Government proposals to revitalize access to information'
      description: ''
      menu_name: 'ati-consultation'
      link_path: 'internal:/consultation/government-proposals-to-revitalize-access-to-information'
      options: []
      external: 0
      weight: 1
      parent: ati_revitalizing
    - mlid: ati_more_info
      link_title: 'More information on access to information'
      description: ''
      menu_name: 'ati-consultation'
      link_path: 'internal:/consultation/more-information-on-access-to-information'
      options: []
      external: 0
      weight: 2
      parent: ati_revitalizing
    - mlid: ati_submit_proposal
      link_title: 'Submit a detailed proposal'
      description: ''
      menu_name: 'ati-consultation'
      link_path: 'internal:/consultation/submit-detailed-proposal'
      options: []
      external: 0
      weight: 3
      parent: ati_revitalizing
    - mlid: commitments_consulting
      link_title: 'Consultation on the development of Canada's Action Plan on Open Government 2014-16'
      menu_name: 'commitments'
      link_path: 'internal:/http://data.statcan.gc.ca/en/consultations/open-government-action-plan-20-consultation'
      options: []
      external: 0
      weight: 1
      parent: commitments_midterm
    - mlid: commitments_self_assessment
      link_title: 'Mid-Term Self-Assessment Report on Canada's Action Plan on Open Government 2014-16'
      menu_name: 'commitments'
      link_path: 'internal:/mid-term-self-assessment-report-canadas-action-plan-open-government-2014-16'
      options: []
      external: 0
      weight: 2
      parent: commitments_midterm
    - mlid: commitments_heard
      link_title: 'What we Heard - Summary Report for Action Plan 2014-16'
      menu_name: 'commitments'
      link_path: 'internal:/consultations/what-we-heard-summary-report'
      options: []
      external: 0
      weight: 3
      parent: commitments_midterm
    - mlid: commitments_draft
      link_title: 'Draft for Consultation: Mid-Term Self-Assessment Report on Canada's Action Plan on Open Government 2014-2016'
      menu_name: 'commitments'
      link_path: 'internal:tent/draft-consultation-end-term-self-assessment-action-plan-open-government-2014-2016'
      options: []
      external: 0
      weight: 4
      parent: commitments_midterm
    - mlid: commitments_emails
      link_title: 'Receive Open Government Emails'
      menu_name: 'commitments'
      link_path: 'internal:/forms/receive-open-government-email-form'
      options: []
      external: 0
      weight: 5
      parent: commitments_midterm
  # Under 'ids', we identify source fields populated above which will uniquely
  # identify each imported item. The 'type' makes sure the migration map table
  # uses the proper schema type for stored the IDs.
  ids:
    mlid:
      type: string
process:
  id: mlid
  bundle: 'constants/bundle'
  title: link_title
  description: description
  menu_name: menu_name
  'link/uri': link_path
  'link/options': options
  route:
    plugin: route
    source:
      - link_path
      - options
  route_name: '@route/route_name'
  route_parameters: '@route/route_parameters'
  url: '@route/url'
  options: '@route/options'
  external: external
  weight: weight
  expanded:
    plugin: default_value
    default_value: 1
  enabled:
    plugin: default_value
    default_value: 1
  parent:
    plugin: menu_link_parent
    source:
      - parent
  changed:
    plugin: default_value
    default_value: ''
destination:
  plugin: entity:menu_link_content
migration_dependencies:
  required:
    - od_ext_db_user
